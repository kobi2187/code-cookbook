<!DOCTYPE html>
<html lang="en" id="page">  <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width"/><title>Conditional compilation  - Haxe Code Cookbook</title><base href="./../.."/>
<link rel="stylesheet" type="text/css" href="http://haxe.org/css/bootstrap.min.css"/><link rel="stylesheet" type="text/css" href="css/styles.min.css"/><link rel="icon" href="http://haxe.org/favicon.ico"/><meta name="keywords" content="conditional-compilation,haxe,code,tutorial,snippet,example,demo"/><meta name="description" content="Conditional compilation is a tool commonly used to alter the flow of the compilation process. It relies on the use of compiler flags (also known as defines), which are configurable values that exist only during compilation."/>
<meta name="twitter:creator" content="@haxe_org"/>
<meta property="og:title" content="Conditional compilation  - Haxe Code Cookbook"/><meta property="og:type" content="article"/><meta property="og:url" content="http://code.haxe.org/"/><meta property="og:image" content="http://code.haxe.org/img/share.png"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400" rel="stylesheet" type="text/css"/>  </head><body><nav class="section nav dark"><div class="navbar navbar-fixed-top navbar-inverse"><div class="navbar-inner"><button class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse" type="button"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="brand haxe-logo" href="http://haxe.org/"><img alt="Haxe" height="21" onerror="this.src='http://haxe.org/img/haxe-logo-horizontal-on-dark.png'" src="http://haxe.org/img/haxe-logo-horizontal-on-dark.svg" width="107"/></a><a class="brand sub ide" href="./">CODE</a><div class="nav-collapse collapse"><ul class="nav">
<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-book"></i> Browse <b class="caret"></b></a><ul class="dropdown-menu"><li class="active"><a href="category/beginner/">Beginner <small class="category-count">(5)</small></a></li><li><a href="category/compilation/">Compilation <small class="category-count">(1)</small></a></li><li><a href="category/data-structures/">Data structures <small class="category-count">(4)</small></a></li><li><a href="category/macros/">Macros <small class="category-count">(15)</small></a></li><li><a href="category/other/">Other <small class="category-count">(5)</small></a></li><li><a href="category/abstract-types/">Abstract types <small class="category-count">(4)</small></a></li><li><a href="category/design-patterns/">Design-patterns <small class="category-count">(3)</small></a></li><li><a href="category/principles/">Principles <small class="category-count">(3)</small></a></li></ul></li><li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-tags"></i> Tags <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="tag/abstract-type.html" rel="tag"><i class="fa fa-tag"></i> abstract-type <small class="category-count">(5)</small></a></li><li><a href="tag/macro-function.html" rel="tag"><i class="fa fa-tag"></i> macro-function <small class="category-count">(9)</small></a></li><li><a href="tag/iterator.html" rel="tag"><i class="fa fa-tag"></i> iterator <small class="category-count">(3)</small></a></li><li><a href="tag/javascript.html" rel="tag"><i class="fa fa-tag"></i> javascript <small class="category-count">(2)</small></a></li><li><a href="tag/pattern-matching.html" rel="tag"><i class="fa fa-tag"></i> pattern-matching <small class="category-count">(2)</small></a></li><li><a href="tag/enum.html" rel="tag"><i class="fa fa-tag"></i> enum <small class="category-count">(3)</small></a></li><li><a href="tag/class.html" rel="tag"><i class="fa fa-tag"></i> class <small class="category-count">(3)</small></a></li><li><a href="tag/arguments.html" rel="tag"><i class="fa fa-tag"></i> arguments <small class="category-count">(2)</small></a></li><li><a href="tag/validation.html" rel="tag"><i class="fa fa-tag"></i> validation <small class="category-count">(3)</small></a></li><li><a href="tag/conditional-compilation.html" rel="tag"><i class="fa fa-tag"></i> conditional-compilation <small class="category-count">(2)</small></a></li><li><a href="tag/building-fields.html" rel="tag"><i class="fa fa-tag"></i> building-fields <small class="category-count">(6)</small></a></li><li><a href="tag/build-macro.html" rel="tag"><i class="fa fa-tag"></i> build-macro <small class="category-count">(6)</small></a></li><li><a href="tag/libraries.html" rel="tag"><i class="fa fa-tag"></i> libraries <small class="category-count">(2)</small></a></li><li><a href="tag/static-extension.html" rel="tag"><i class="fa fa-tag"></i> static-extension <small class="category-count">(2)</small></a></li><li><a href="tag/dead-code-elimination.html" rel="tag"><i class="fa fa-tag"></i> dead-code-elimination <small class="category-count">(2)</small></a></li></ul></li><li class="divider"></li>
<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="/documentation/">Learn Haxe <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://haxe.org/documentation/">Introduction</a></li><li class="divider"></li><li><a href="http://haxe.org/manual/">Manual</a></li><li><a href="http://api.haxe.org">API Documentation</a></li><li class="divider"></li><li><a href="http://try.haxe.org">Try Haxe</a></li><li><a href="http://lib.haxe.org">Haxelib</a></li><li class="active"><a href="http://code.haxe.org">Code Cookbook</a></li></ul></li><li class=" dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Connect <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://github.com/HaxeFoundation"><i class="fa fa-github"></i> Github</a></li><li><a href="https://github.com/HaxeFoundation/haxe/issues"><i class="fa fa-github"></i> Bug reports</a></li><li><a href="http://stackoverflow.com/questions/tagged/haxe"><i class="fa fa-stack-exchange"></i> Stack Overflow</a></li><li><a href="http://groups.google.com/group/haxelang?hl=en"><i class="fa fa-envelope-o"></i> Google Groups</a></li><li><a href="http://webchat.freenode.net/?channels=haxe"><i class="fa fa-comments-o"></i> IRC</a></li><li><a href="http://haxe.org/blog"><i class="fa fa-rss"></i> Blog</a></li><li class="divider"></li><li><a href="https://plus.google.com/communities/103302587329918132234"><i class="fa fa-google-plus"></i> Google+</a></li><li><a href="https://www.facebook.com/haxe.org/"><i class="fa fa-facebook"></i> Facebook</a></li><li><a href="https://twitter.com/search?q=%23haxe"><i class="fa fa-twitter"></i> #haxe</a></li><li><a href="https://twitter.com/haxelang"><i class="fa fa-twitter"></i> @haxelang</a></li><li><a href="https://twitter.com/haxe_org"><i class="fa fa-twitter"></i> @haxe_org</a></li><li class="divider"></li><li><a href="http://haxe.org/foundation/contact.html">Contact</a></li></ul></li></ul></div></div></div></nav><div class="main-content"><header class="hero-unit-small"><div class="container"><div class="row"><h1>Haxe Code Cookbook</h1></div></div></header><main class="container"><section class="row"><nav class="span4 sidebar-toc" id="sidebar"><h3>Table of contents</h3><ul class="unstyled"><li><a href="category/beginner/">Beginner</a><ul class="unstyled"><li class="active"><a href="category/beginner/conditional-compilation.html">Conditional compilation</a></li><li><a href="category/beginner/declare-classes.html">Declare classes</a></li><li><a href="category/beginner/declare-functions.html">Declare functions</a></li><li><a href="category/beginner/hello-world.html">Hello world</a></li><li><a href="category/beginner/using-static-extensions.html">Using static extensions</a></li></ul></li><br/><li><a href="category/compilation/">Compilation</a><ul class="unstyled"><li><a href="category/compilation/compiling-libraries-without-main-class.html">Compiling libraries without main class</a></li></ul></li><br/><li><a href="category/data-structures/">Data structures</a><ul class="unstyled"><li><a href="category/data-structures/grid-iterator.html">Grid iterator</a></li><li><a href="category/data-structures/reverse-iterator.html">Reverse iterator</a></li><li><a href="category/data-structures/sort-array.html">Sorting arrays</a></li><li><a href="category/data-structures/step-iterator.html">Stepped iterator</a></li></ul></li><br/><li><a href="category/macros/">Macros</a><ul class="unstyled"><li><a href="category/macros/add-git-commit-hash-in-build.html">Add git commit-hash in build</a></li><li><a href="category/macros/add-parameters-as-fields.html">Add parameters as fields</a></li><li><a href="category/macros/assert-with-values.html">Assert macro that shows sub-expression values</a></li><li><a href="category/macros/build-map.html">Add a map</a></li><li><a href="category/macros/build-property-with-inline-getter.html">Add property with getter</a></li><li><a href="category/macros/build-static-field.html">Add a static field</a></li><li><a href="category/macros/build-value-objects.html">Create value-objects</a></li><li><a href="category/macros/combine-objects.html">Combine two or more structures</a></li><li><a href="category/macros/completion-from-url.html">Code completion from URL</a></li><li><a href="category/macros/enum-abstract-values.html">Get all values of an @:enum abstract</a></li><li><a href="category/macros/extract-enum-value.html">Extract values from known enum instances</a></li><li><a href="category/macros/generate-dispatch-code.html">Generate dispatch code</a></li><li><a href="category/macros/generating-code-in-a-macro.html">Generating code in a macro</a></li><li><a href="category/macros/get-compiler-define-value.html">Working with compiler flags</a></li><li><a href="category/macros/validate-json.html">Validates a .JSON file compile-time</a></li></ul></li><br/><li><a href="category/other/">Other</a><ul class="unstyled"><li><a href="category/other/adding-static-methods-to-existing-classes.html">Adding static methods to existing classes</a></li><li><a href="category/other/named-parameters.html">Named Parameters</a></li><li><a href="category/other/passing-different-types-to-a-function-parameter.html">Passing different types to a function parameter</a></li><li><a href="category/other/using-filesystem.html">Using the file system</a></li><li><a href="category/other/using-haxe-classes-in-javascript.html">Using Haxe classes in JavaScript</a></li></ul></li><br/><li><a href="category/abstract-types/">Abstract types</a><ul class="unstyled"><li><a href="category/abstract-types/emailaddress.html">EmailAddress</a></li><li><a href="category/abstract-types/rounded float.html">Rounded Float</a></li><li><a href="category/abstract-types/abstracts-with-type-params.html">Strict typing for stringly-typed extern code</a></li><li><a href="category/abstract-types/temperature-units.html">Temperature units</a></li></ul></li><br/><li><a href="category/design-patterns/">Design-patterns</a><ul class="unstyled"><li><a href="category/design-patterns/factory.html">Factory</a></li><li><a href="category/design-patterns/lazy-initialization.html">Lazy initialization</a></li><li><a href="category/design-patterns/singleton.html">Singleton</a></li></ul></li><br/><li><a href="category/principles/">Principles</a><ul class="unstyled"><li><a href="category/principles/inheritance.html">Inheritance</a></li><li><a href="category/principles/null-safety.html">Null safety</a></li><li><a href="category/principles/everything-is-an-expression.html">Everything is an expression</a></li></ul></li><br/></ul></nav><article class="span8"><h1>Conditional compilation</h1>
<blockquote>
<p>This snippet demonstrates use of conditional compilation with custom compiler flags.</p></blockquote>
<p>Conditional compilation is a tool commonly used to alter the flow of the compilation process. It relies on the use of compiler flags (also known as <em>defines</em>), which are configurable values that exist only during compilation.</p>
<p>Compiler flags are set with <code>-D key</code> or <code>-D key=value</code> from the command-line or build file. The values of <code>Float</code>, <code>Int</code>, and <code>String</code> constants are used directly when evaluating conditionals.</p>
<p>Note that those conditional compilation branches that the compiler doesn't enter are discarded while parsing the source file.</p>
<p>To get a list of supported Haxe compiler flags, use <code>haxe --help-defines</code>.</p>
<h2>Implementation</h2>
<pre><code class="prettyprint haxe">class Main {
  static function main() {
    #if introduce
    trace("Hello! This is an example of conditional compilation.");
    #end

    #if (level &gt; 4)
    trace("Welcome, administrator!");
    #elseif (level &gt; 2)
    trace("Welcome, super user!");
    #else
    trace("Welcome, user!");
    #end
  }
}</code></pre>
<h2>Usage</h2>
<p>Assume the following build file:</p>
<pre><code>-main Main
-neko main.n
-D introduce
-D level=3</code></pre>
<p>Running <code>neko main.n</code> from the compiler output directory will result in:</p>
<pre><code>Hello, this is an example of conditional compilation.
Welcome, super user!</code></pre>
<blockquote>
<p>Learn about conditional compilation here: <a href="http://haxe.org/manual/lf-condition-compilation.html">http://haxe.org/manual/lf-condition-compilation.html</a></p>
<p>Learn about available global compiler flags here: <a href="http://haxe.org/manual/lf-condition-compilation-flags.html">http://haxe.org/manual/lf-condition-compilation-flags.html</a></p>
<p>Author: <a href="http://github.com/dstrekelj">Domagoj Štrekelj</a></p></blockquote><div class="tags"><hr/>Tags: <span class="tag"><i class="fa fa-tag"></i>&nbsp;<a href="tag/conditional-compilation.html" rel="tag">conditional-compilation</a></span></div><hr/><div class="contribution"><i class="fa fa-lightbulb-o"></i> <a href="https://github.com/HaxeFoundation/code-cookbook/edit/master/./assets/content/cookbook/Beginner/conditional-compilation.md">Suggest improvement</a> | <i class="fa fa-exclamation-circle"></i> <a href="https://github.com/HaxeFoundation/code-cookbook/issues/new?title=[Conditional compilation]&body=%0A%0ASources:%0A*%20http://code.haxe.org/category/beginner/conditional-compilation.html%0A*%20https://github.com/HaxeFoundation/code-cookbook/tree/master/./assets/content/cookbook/Beginner/conditional-compilation.md">Report issue</a> |<i class="fa fa-plus-circle"></i> <a href="https://github.com/HaxeFoundation/code-cookbook/new/master/./assets/content/cookbook/Beginner/snippet-name.md/?filename=snippet-name.md">Add new snippet</a></div></article></section></main></div><footer class="section dark site-footer"><div class="container"><div class="copyright"><p>&copy;2016&nbsp;<a class="hf-link" href="http://haxe.org/foundation/" title="Haxe Foundation Website">Haxe Foundation</a> |&nbsp;<a href="https://github.com/HaxeFoundation/code-cookbook" title="Haxe Code Cookbook on Github">Code Cookbook on Github</a> </p><p class="last-modified">Last modified: 16-08-2016</p></div></div></footer><link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css"/>

<link rel="stylesheet" type="text/css" href="css/haxe-nav.min.css"/><script src="http://haxe.org/js/jquery.min.js"></script><script src="http://haxe.org/js/bootstrap.min.js"></script><script src="js/highlighter.js"></script><script>  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-74262827-2', 'auto');  ga('send', 'pageview');</script></body></html>